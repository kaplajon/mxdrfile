{"name":"mxdrfile","tagline":"mxdrfile is a set of wrapper functions that enables reading and writing Gromacs .xtc and .trr trajectory files in Matlab. The wrapper functions make direct use of the xdrfile library from Gromacs through the intrinsic loadlibrary function in Matlab.","body":"# About mxdrfile\r\nThe mxdrfile wrapper functions were created with the aim of improving the abilities of fast trajectory analysis in Matlab. The library enables reading and writing of .xtc and .trr trajectory files through the use of the original [xdrfile library](http://www.gromacs.org/Downloads) from the Gromacs team.\r\n\r\nBoth the original xdrfile library and mxdrfile are open source and released under the [LGPLv3](http://www.gnu.org/licenses/lgpl.html) license.\r\n\r\n# Using the Library with Matlab\r\nThe libxdrfile lib was compiled with the following:\r\n\r\n> \\> export MXWORKDIR=$PWD\r\n\r\n> \\> cd xdrfile-1.1.1\r\n\r\n> \\>./configure --enable-shared --prefix=$MXWORKDIR\r\n\r\n> \\> make\r\n\r\n> \\> make install\r\n\r\nThe header files for libxdrfile had to be slightly altered with a patch to be loadable into\r\nmatlab. The altered files reside inside include/:\r\n\r\n> \\> cd $MXWORKDIR\r\n\r\n> \\> patch -p0 <headers.patch\r\n\r\nThe thunk library file and the fileheaders.m was created by running the\r\nfollowing command in matlab:\r\n\r\n> \\> addpath include/xdrfile lib\r\n\r\n> \\> loadlibrary('libxdrfile','xdrfile_xtc.h','addheader','xdrfile_trr','addheader',...\r\n>'xdrfile','mfilename','fileheaders.m','thunkfilename','libxdr_thunk')\r\n\r\nThe library can then be loaded with:\r\n\r\n> \\> addpath include/xdrfile lib\r\n\r\n> \\> loadlibrary('libxdrfile',@fileheaders)\r\n\r\n### Testing the Library\r\n\r\nThe library read and write functions can be tested by running the included test scripts test_trr.m\r\nand test_xtc.m in Matlab after completing the above install procedure.\r\n\r\n# The Wrapper Functions\r\n\r\n## Open and Close\r\n--> FILE: inittraj.m\r\n\r\nUSAGE: [status,initstruct]=inittraj(fname,action)\r\n* fname - (str) Filename of .xtc or .trr file\r\n* action - (str) 'r' or 'w' for read or write access. WARNING! 'w' will overwrite fname!!\r\n* status - (int32)\r\n* initstruct:\r\n    * fhandle - (lib.pointer) XDR file handle\r\n    * natoms - (int32) Number of atoms in trajectory\r\n\r\n--> FILE: closetraj.m\r\n\r\nUSAGE: status = closetraj(initstruct)\r\n\r\n## Read\r\n--> FILE: read_xtc.m\r\n\r\nUSAGE: [rstatus,trajstruct]=read_xtc(initstruct)\r\n* status - int32\r\n* trajstruct:\r\n    * step - (int32) timestep\r\n    * time - (single) time in ps\r\n    * box - (singlePtr) Box as a 3x3 array\r\n    * x - (singlePtr) Coordinates as an 3xnatoms array\r\n    * natoms - (int32) Number of atoms in trajectory\r\n    * prec - (single) Precision of XTC file\r\n\r\n--> FILE: read_trr.m\r\n\r\nUSAGE: [rstatus,trajstruct]=read_xtc(initstruct)\r\n* trajstruct:\r\n    * step - (int32) timestep\r\n    * time - (single) time in ps\r\n    * lam - (single) lambda\r\n    * box - (singlePtr) Box as a 3x3 array\r\n    * x - (singlePtr) Coordinates as a 3xnatoms array\r\n    * v - (singlePtr) Velocities as a 3xnatoms array\r\n    * f - (singlePtr) Forces as a 3xnatoms array\r\n    * natoms - (int32) Number of atoms in trajectory\r\n    * prec - (single(1000.)) default precision for writing xtc\r\n\r\n## Write\r\n--> FILE: write_xtc.m\r\n\r\nUSAGE: wstatus=write_xtc(initstruct, trajstruct)\r\n* wstatus - (int32)\r\n* initstruct.fhandle - filehandle with writeaccess\r\n* trajstruct:\r\n   * step - (int32) timestep\r\n   * time - (single) time in ps\r\n   * box - (singlePtr) Box as a 3x3 array\r\n   * x - (singlePtr) Coordinates as an 3xnatoms array\r\n   * natoms - (int32) Number of atoms in trajectory\r\n   * prec - (single) Precision of XTC file\r\n\t\r\n--> FILE: write_trr.m\r\n\r\nUSAGE: wstatus=write_trr(initstruct, trajstruct)\r\n* wstatus - (int32)\r\n* initstruct.fhandle - filehandle with writeaccess\r\n* trajstruct:\r\n   * step - (int32) timestep\r\n   * time - (single) time in ps\r\n   * lam - (single) lambda\r\n   * box - (singlePtr) Box as a 3x3 array\r\n   * x - (singlePtr) Coordinates as a 3xnatoms array\r\n   * v - (singlePtr) Velocities as a 3xnatoms array\r\n   * f - (singlePtr) Forces as a 3xnatoms array\r\n   * natoms - (int32) Number of atoms in trajectory\r\n\r\n## Helpers\r\n--> FILE: catch_xdr_errors.m\r\n\r\nUSAGE: catch_xdr_errors(status)\r\n* status - int32\r\n\r\n--> FILE: read_xtc_natoms.m\r\n\r\nUSAGE: [status,natoms]=read_xtc_natoms(fname)\r\n* fname - (str) Filename with .xtc extension\r\n* status - int32\r\n* natoms - int32\r\n\r\n--> FILE: read_trr_natoms.m\r\n\r\nUSAGE: [status,natoms]=read_trr_natoms(fname)\r\n* fname - (str) Filename with .trr extension\r\n* status - int32\r\n* natoms - int32\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}